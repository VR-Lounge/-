# üìã –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Å–æ–∑–¥–∞–Ω–∏—é –∏–Ω–¥–µ–∫—Å–æ–≤ –≤ Firestore

## ‚ö†Ô∏è –ü—Ä–æ–±–ª–µ–º–∞: "–¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤ Firebase"

–ï—Å–ª–∏ –≤—ã –≤–∏–¥–∏—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ "‚ö†Ô∏è –¢—Ä–µ–±—É–µ—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –≤ Firebase. –û–±—Ä–∞—Ç–∏—Ç–µ—Å—å –∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä—É.", —ç—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ Firestore —Ç—Ä–µ–±—É–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–≥–æ –∑–∞–ø—Ä–æ—Å–∞.

## ‚úÖ –†–ï–®–ï–ù–ò–ï: –ò–Ω–¥–µ–∫—Å –ù–ï –Ω—É–∂–µ–Ω!

**–•–æ—Ä–æ—à–∞—è –Ω–æ–≤–æ—Å—Ç—å:** –Ø –∏—Å–ø—Ä–∞–≤–∏–ª –∫–æ–¥ —Ç–∞–∫, —á—Ç–æ–±—ã –æ–Ω **–ù–ï —Ç—Ä–µ–±–æ–≤–∞–ª –∏–Ω–¥–µ–∫—Å**. –¢–µ–ø–µ—Ä—å –∑–∞–ø—Ä–æ—Å—ã —Ä–∞–±–æ—Ç–∞—é—Ç –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤.

### –ß—Ç–æ –±—ã–ª–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–æ:
- ‚ùå –£–±—Ä–∞–Ω–æ: `.orderBy('bookingDate', 'desc')` –∏–∑ –∑–∞–ø—Ä–æ—Å–∞ "–ú–æ–∏ –∑–∞–ø–∏—Å–∏"
- ‚úÖ –¢–µ–ø–µ—Ä—å: –í—Å–µ –∑–∞–ø–∏—Å–∏ –ø–æ–ª—É—á–∞—é—Ç—Å—è –±–µ–∑ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∏, –∑–∞—Ç–µ–º —Å–æ—Ä—Ç–∏—Ä—É—é—Ç—Å—è –≤ –∫–æ–¥–µ JavaScript

### –ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –≤—Å–µ –µ—â–µ –ø–æ—è–≤–ª—è–µ—Ç—Å—è:

1. **–ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã** - Railway –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞ —Å –Ω–æ–≤—ã–º –∫–æ–¥–æ–º
2. **–ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞** - –Ω–∞–∂–º–∏—Ç–µ "–ú–æ–∏ –∑–∞–ø–∏—Å–∏" –µ—â–µ —Ä–∞–∑
3. **–ï—Å–ª–∏ –æ—à–∏–±–∫–∞ –ø–æ–≤—Ç–æ—Ä—è–µ—Ç—Å—è** - –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard

---

## üìö –ï—Å–ª–∏ –≤—Å–µ-—Ç–∞–∫–∏ –Ω—É–∂–µ–Ω –∏–Ω–¥–µ–∫—Å (–¥–ª—è –±—É–¥—É—â–µ–≥–æ)

–ï—Å–ª–∏ –≤ –±—É–¥—É—â–µ–º –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å –¥–ª—è –¥—Ä—É–≥–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–æ—Ç –∫–∞–∫ —ç—Ç–æ —Å–¥–µ–ª–∞—Ç—å:

### –°–ø–æ—Å–æ–± 1: –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —á–µ—Ä–µ–∑ Firebase Console

1. –û—Ç–∫—Ä–æ–π—Ç–µ [Firebase Console](https://console.firebase.google.com/)
2. –í—ã–±–µ—Ä–∏—Ç–µ –ø—Ä–æ–µ–∫—Ç `vr-lounge33`
3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ **Firestore Database** ‚Üí **Indexes**
4. –ï—Å–ª–∏ Firebase –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç —Å–æ–∑–¥–∞—Ç—å –∏–Ω–¥–µ–∫—Å, –Ω–∞–∂–º–∏—Ç–µ **"Create Index"**
5. –ü–æ–¥–æ–∂–¥–∏—Ç–µ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∏–Ω—É—Ç, –ø–æ–∫–∞ –∏–Ω–¥–µ–∫—Å —Å–æ–∑–¥–∞–µ—Ç—Å—è

### –°–ø–æ—Å–æ–± 2: –ß–µ—Ä–µ–∑ —Ñ–∞–π–ª `firestore.indexes.json`

–§–∞–π–ª `firestore.indexes.json` —É–∂–µ —Å–æ–∑–¥–∞–Ω –≤ –ø—Ä–æ–µ–∫—Ç–µ. –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–Ω–¥–µ–∫—Å:

```json
{
  "indexes": [
    {
      "collectionGroup": "bookings",
      "queryScope": "COLLECTION",
      "fields": [
        {
          "fieldPath": "phoneDigits",
          "order": "ASCENDING"
        },
        {
          "fieldPath": "bookingDate",
          "order": "DESCENDING"
        }
      ]
    }
  ],
  "fieldOverrides": []
}
```

–ó–∞—Ç–µ–º –≤—ã–ø–æ–ª–Ω–∏—Ç–µ:
```bash
firebase deploy --only firestore:indexes
```

---

## üîç –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è

### –¢–µ–∫—É—â–∏–µ –∑–∞–ø—Ä–æ—Å—ã (–ë–ï–ó –∏–Ω–¥–µ–∫—Å–æ–≤):

1. **"–ú–æ–∏ –∑–∞–ø–∏—Å–∏":**
   ```javascript
   .where('phoneDigits', '==', phoneDigits)
   .limit(50)
   .get()
   ```
   ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–¥–µ–∫—Å** - —Ç–æ–ª—å–∫–æ `where` –∏ `limit`

2. **–ù–æ–≤—ã–µ –∑–∞–ø–∏—Å–∏ (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è):**
   ```javascript
   .where('createdAt', '>=', lastCheckTime)
   .limit(10)
   .get()
   ```
   ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–¥–µ–∫—Å** - —Ç–æ–ª—å–∫–æ `where` –∏ `limit`

3. **–ù–∞–ø–æ–º–∏–Ω–∞–Ω–∏—è:**
   ```javascript
   .where('bookingDate', '==', tomorrowStr)
   .get()
   ```
   ‚úÖ **–ù–µ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω–¥–µ–∫—Å** - —Ç–æ–ª—å–∫–æ `where`

---

## üìù –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

**–ò–Ω–¥–µ–∫—Å –ù–ï –Ω—É–∂–µ–Ω!** –ö–æ–¥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –±–µ–∑ –∏–Ω–¥–µ–∫—Å–æ–≤.

–ï—Å–ª–∏ –≤—ã –≤—Å–µ –µ—â–µ –≤–∏–¥–∏—Ç–µ –æ—à–∏–±–∫—É:
1. –ü–æ–¥–æ–∂–¥–∏—Ç–µ 1-2 –º–∏–Ω—É—Ç—ã (Railway –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞–µ—Ç –±–æ—Ç–∞)
2. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ —Å–Ω–æ–≤–∞
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ Railway Dashboard

